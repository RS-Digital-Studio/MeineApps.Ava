<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:BomberBlast.ViewModels"
             xmlns:models="using:BomberBlast.Models"
             xmlns:mi="using:Material.Icons.Avalonia"
             xmlns:loc="using:MeineApps.Core.Ava.Localization"
             xmlns:ctrl="using:BomberBlast.Controls"
             x:Class="BomberBlast.Views.ShopView"
             x:DataType="vm:ShopViewModel">

  <!-- Gemeinsames Skin-DataTemplate (6 Sektionen nutzen dasselbe Layout) -->
  <UserControl.Resources>
    <DataTemplate x:Key="SkinItemTemplate" x:DataType="models:SkinDisplayItem">
      <Border CornerRadius="12"
              Padding="12"
              Margin="6"
              MinWidth="200" MaxWidth="280"
              BoxShadow="0 2 8 0 #30000000"
              Opacity="{Binding CardOpacity}">
        <Border.Background>
          <SolidColorBrush Color="{DynamicResource CardColor}" />
        </Border.Background>
        <Grid RowDefinitions="Auto,Auto,Auto" ColumnDefinitions="Auto,*">

          <!-- Farb-Vorschau (Gradient-Kreis mit Kategorie-Icon) -->
          <Border Grid.Row="0" Grid.Column="0"
                  Grid.RowSpan="2"
                  Width="44" Height="44"
                  CornerRadius="22"
                  Margin="0,0,10,0"
                  VerticalAlignment="Center"
                  BorderThickness="2">
            <Border.BorderBrush>
              <SolidColorBrush Color="{Binding SecondaryColor}" />
            </Border.BorderBrush>
            <Border.Background>
              <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                <GradientStop Color="{Binding PrimaryColor}" Offset="0" />
                <GradientStop Color="{Binding SecondaryColor}" Offset="1" />
              </LinearGradientBrush>
            </Border.Background>
            <mi:MaterialIcon Kind="{Binding PreviewIconKind}" Width="20" Height="20"
                             Foreground="White" Opacity="0.7"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center" />
          </Border>

          <!-- Name -->
          <TextBlock Grid.Row="0" Grid.Column="1"
                     Text="{Binding DisplayName}"
                     FontSize="15" FontWeight="SemiBold"
                     Foreground="{DynamicResource TextPrimaryBrush}" />

          <!-- Preis-Anzeige (nur wenn nicht owned) -->
          <StackPanel Grid.Row="1" Grid.Column="1"
                      Orientation="Horizontal" Spacing="4"
                      IsVisible="{Binding !IsOwned}">
            <mi:MaterialIcon Kind="CircleMultiple" Width="12" Height="12"
                             Foreground="{DynamicResource GoldAccentBrush}" VerticalAlignment="Center" />
            <TextBlock Text="{Binding CoinPrice, StringFormat='{}{0:N0}'}"
                       FontSize="12" Foreground="{DynamicResource GoldAccentBrush}"
                       VerticalAlignment="Center" />
          </StackPanel>

          <!-- Status: Ausgeruestet -->
          <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                  Margin="0,6,0,0"
                  CornerRadius="8"
                  Padding="8,5"
                  HorizontalAlignment="Stretch"
                  IsVisible="{Binding IsEquipped}">
            <Border.Background>
              <SolidColorBrush Color="#1B5E20" Opacity="0.3" />
            </Border.Background>
            <StackPanel Orientation="Horizontal" Spacing="6"
                        HorizontalAlignment="Center">
              <mi:MaterialIcon Kind="CheckCircle" Width="14" Height="14"
                               Foreground="#4CAF50" />
              <TextBlock Text="{Binding StatusText}"
                         FontSize="12" FontWeight="SemiBold"
                         Foreground="#4CAF50" />
            </StackPanel>
          </Border>

          <!-- Status: Gesperrt (Premium) -->
          <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                  Margin="0,6,0,0"
                  CornerRadius="8"
                  Padding="8,5"
                  HorizontalAlignment="Stretch"
                  IsVisible="{Binding IsLocked}">
            <Border.Background>
              <SolidColorBrush Color="{DynamicResource CardColor}" Opacity="0.5" />
            </Border.Background>
            <StackPanel Orientation="Horizontal" Spacing="6"
                        HorizontalAlignment="Center">
              <mi:MaterialIcon Kind="Lock" Width="14" Height="14"
                               Foreground="{DynamicResource GoldAccentBrush}" />
              <TextBlock Text="{Binding StatusText}"
                         FontSize="12" FontWeight="SemiBold"
                         Foreground="{DynamicResource GoldAccentBrush}" />
            </StackPanel>
          </Border>

          <!-- Auswaehlen-Button (owned + nicht equipped) -->
          <Panel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                 Margin="0,6,0,0" MinHeight="30"
                 IsVisible="{Binding CanSelect}">
            <ctrl:GameButtonCanvas ButtonColor="#00BCD4" DamageLevel="0.3" ButtonSeed="130" />
            <Button Command="{Binding $parent[ItemsControl].((vm:ShopViewModel)DataContext).SelectSkinCommand}"
                    CommandParameter="{Binding}"
                    Classes="GameButton"
                    Background="Transparent"
                    Foreground="White"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Center"
                    CornerRadius="8"
                    Padding="8,5">
              <TextBlock Text="{Binding StatusText}"
                         FontSize="12" FontWeight="SemiBold"
                         Foreground="White" />
            </Button>
          </Panel>

          <!-- Kauf-Button (nicht owned, nicht locked) -->
          <Panel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                 Margin="0,6,0,0" MinHeight="30"
                 IsVisible="{Binding CanBuy}">
            <ctrl:GameButtonCanvas ButtonColor="#FF6F00" DamageLevel="0.5" ButtonSeed="131" />
            <Button Command="{Binding $parent[ItemsControl].((vm:ShopViewModel)DataContext).PurchaseSkinCommand}"
                    CommandParameter="{Binding}"
                    Classes="GameButton"
                    Background="Transparent"
                    Foreground="White"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Center"
                    CornerRadius="8"
                    Padding="8,5">
              <StackPanel Orientation="Horizontal" Spacing="6">
                <mi:MaterialIcon Kind="CircleMultiple" Width="14" Height="14"
                                 Foreground="{DynamicResource GoldAccentBrush}" />
                <TextBlock Text="{Binding CoinPrice, StringFormat='{}{0:N0}'}"
                           FontSize="13" FontWeight="SemiBold"
                           Foreground="White" />
              </StackPanel>
            </Button>
          </Panel>

        </Grid>
      </Border>
    </DataTemplate>
  </UserControl.Resources>

  <!-- Animierter Shop-Hintergrund (Gold-Gradient, Münzen, Shimmer) -->
  <Panel AutomationProperties.AutomationId="Shop_Root">
    <ctrl:MenuBackgroundCanvas BackgroundTheme="Shop" />

    <Grid RowDefinitions="Auto,*">

      <!-- Header -->
      <Border Grid.Row="0"
              Classes="CardElevated"
              Padding="16,10"
              CornerRadius="0,0,12,12">
        <Grid ColumnDefinitions="Auto,*,Auto">
          <!-- Zurueck-Button -->
          <Button AutomationProperties.AutomationId="Shop_BtnBack"
                  Classes="Text"
                  Command="{Binding GoBackCommand}">
            <mi:MaterialIcon Kind="ArrowLeft" Width="24" Height="24" />
          </Button>

          <!-- Titel -->
          <TextBlock AutomationProperties.AutomationId="Shop_TxtTitle"
                     Grid.Column="1"
                     Text="{Binding ShopTitleText}"
                     FontSize="20" FontWeight="Bold"
                     Foreground="{DynamicResource TextPrimaryBrush}"
                     HorizontalAlignment="Center"
                     VerticalAlignment="Center" />

          <!-- Coin-Badge -->
          <Border AutomationProperties.AutomationId="Shop_CoinBadge"
                  Grid.Column="2"
                  Background="{DynamicResource SurfaceBrush}"
                  CornerRadius="16"
                  Padding="12,6"
                  BorderBrush="#40FFD700"
                  BorderThickness="1"
                  BoxShadow="0 2 8 0 #20FFD700">
            <StackPanel Orientation="Horizontal" Spacing="6">
              <mi:MaterialIcon Kind="CircleMultiple" Width="18" Height="18"
                               Foreground="#FFD700" />
              <TextBlock AutomationProperties.AutomationId="Shop_TxtCoins"
                         Text="{Binding CoinsText}"
                         FontSize="15" FontWeight="SemiBold"
                         Foreground="#FFD700"
                         VerticalAlignment="Center" />
            </StackPanel>
          </Border>
        </Grid>
      </Border>

      <!-- Scrollbarer Inhalt -->
      <ScrollViewer Grid.Row="1"
                    HorizontalScrollBarVisibility="Disabled"
                    VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="12,8,12,100" Spacing="16">

          <!-- ═══════════════════════════════════════════════
               SHOP-UPGRADES
               ═══════════════════════════════════════════════ -->
          <ItemsControl AutomationProperties.AutomationId="Shop_UpgradeList"
                        ItemsSource="{Binding ShopItems}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal"
                           HorizontalAlignment="Center" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
              <DataTemplate x:DataType="models:ShopDisplayItem">
                <Border Background="{DynamicResource CardColor}"
                        CornerRadius="12"
                        Padding="12"
                        Margin="6"
                        MinWidth="200" MaxWidth="280"
                        BoxShadow="0 2 8 0 #30000000">
                  <Grid RowDefinitions="Auto,Auto,Auto,Auto" ColumnDefinitions="Auto,*">

                    <!-- Prozedurales SkiaSharp-Icon -->
                    <Border Grid.Row="0" Grid.Column="0"
                            Grid.RowSpan="2"
                            Width="44" Height="44"
                            CornerRadius="10"
                            Margin="0,0,10,0"
                            VerticalAlignment="Center">
                      <Border.Background>
                        <SolidColorBrush Color="{Binding IconColor}" Opacity="0.15" />
                      </Border.Background>
                      <ctrl:ShopUpgradeIconCanvas Width="36" Height="36"
                                                  UpgradeTypeIndex="{Binding UpgradeTypeIndex}"
                                                  IconColorArgb="{Binding IconColorArgb}"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center" />
                    </Border>

                    <!-- Name -->
                    <TextBlock Grid.Row="0" Grid.Column="1"
                               Text="{Binding DisplayName}"
                               FontSize="15" FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />

                    <!-- Beschreibung -->
                    <TextBlock Grid.Row="1" Grid.Column="1"
                               Text="{Binding DisplayDescription}"
                               FontSize="11"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               TextWrapping="Wrap" />

                    <!-- Level-Fortschritt -->
                    <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                                Orientation="Horizontal" Spacing="8"
                                Margin="0,8,0,4">
                      <TextBlock Text="{Binding LevelDots}"
                                 FontSize="16"
                                 Foreground="{DynamicResource AccentBrush}"
                                 VerticalAlignment="Center" />
                      <TextBlock Text="{Binding LevelText}"
                                 FontSize="12"
                                 Foreground="{DynamicResource TextMutedBrush}"
                                 VerticalAlignment="Center" />
                    </StackPanel>

                    <!-- Kauf-Button oder Maxed-Badge -->
                    <Panel Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2"
                           Margin="0,4,0,0">
                      <!-- Maxed: Gruener Checkmark -->
                      <Border IsVisible="{Binding IsMaxed}"
                              Background="#1B5E20"
                              CornerRadius="8"
                              Padding="8,6"
                              HorizontalAlignment="Stretch">
                        <StackPanel Orientation="Horizontal" Spacing="6"
                                    HorizontalAlignment="Center">
                          <mi:MaterialIcon Kind="CheckCircle" Width="16" Height="16"
                                           Foreground="#4CAF50" />
                          <TextBlock Text="{loc:Translate ShopMaxed}"
                                     FontSize="13" FontWeight="SemiBold"
                                     Foreground="#4CAF50" />
                        </StackPanel>
                      </Border>

                      <!-- Kauf-Button -->
                      <Panel MinHeight="32"
                             IsVisible="{Binding !IsMaxed}">
                        <ctrl:GameButtonCanvas ButtonColor="#4CAF50" DamageLevel="0.4" ButtonSeed="132" />
                        <Button Command="{Binding $parent[ItemsControl].((vm:ShopViewModel)DataContext).PurchaseCommand}"
                                CommandParameter="{Binding}"
                                IsEnabled="{Binding CanBuy}"
                                Classes="GameButton"
                                Background="Transparent"
                                Foreground="White"
                                HorizontalAlignment="Stretch"
                                HorizontalContentAlignment="Center"
                                CornerRadius="8"
                                Padding="8,6">
                          <StackPanel Orientation="Horizontal" Spacing="6">
                            <mi:MaterialIcon Kind="CircleMultiple" Width="14" Height="14"
                                             Foreground="#FFD700" />
                            <TextBlock Text="{Binding NextPrice, StringFormat='{}{0:N0}'}"
                                       FontSize="13" FontWeight="SemiBold"
                                       Foreground="White" />
                          </StackPanel>
                        </Button>
                      </Panel>
                    </Panel>

                  </Grid>
                </Border>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>

          <!-- ═══════════════════════════════════════════════
               FÄHIGKEITEN (PowerUps)
               ═══════════════════════════════════════════════ -->
          <Border CornerRadius="8"
                  Padding="14,10"
                  Margin="0,8,0,0"
                  BorderThickness="3,0,0,0"
                  BorderBrush="#FFD700">
            <Border.Background>
              <SolidColorBrush Color="#FFD700" Opacity="0.08" />
            </Border.Background>
            <TextBlock AutomationProperties.AutomationId="Shop_TxtPowerUpsSection"
                       Text="{Binding SectionPowerUpsText}"
                       FontSize="17" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}" />
          </Border>

          <ItemsControl AutomationProperties.AutomationId="Shop_PowerUpList"
                        ItemsSource="{Binding PowerUpItems}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal"
                           HorizontalAlignment="Center" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
              <DataTemplate x:DataType="models:PowerUpDisplayItem">
                <Border CornerRadius="12"
                        Padding="12"
                        Margin="6"
                        MinWidth="200" MaxWidth="280"
                        BoxShadow="0 2 8 0 #30000000"
                        Opacity="{Binding CardOpacity}">
                  <Border.Background>
                    <SolidColorBrush Color="{DynamicResource CardColor}" />
                  </Border.Background>
                  <Grid RowDefinitions="Auto,Auto,Auto" ColumnDefinitions="Auto,*">

                    <!-- Icon-Badge -->
                    <Border Grid.Row="0" Grid.Column="0"
                            Grid.RowSpan="2"
                            Width="44" Height="44"
                            CornerRadius="10"
                            Margin="0,0,10,0"
                            VerticalAlignment="Center">
                      <Border.Background>
                        <SolidColorBrush Color="{Binding IconColor}" Opacity="0.2" />
                      </Border.Background>
                      <Panel>
                        <!-- PowerUp-Icon (freigeschaltet) -->
                        <mi:MaterialIcon Kind="{Binding IconKind}"
                                         Width="24" Height="24"
                                         IsVisible="{Binding IsUnlocked}"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center">
                          <mi:MaterialIcon.Foreground>
                            <SolidColorBrush Color="{Binding IconColor}" />
                          </mi:MaterialIcon.Foreground>
                        </mi:MaterialIcon>
                        <!-- Schloss-Icon (gesperrt) -->
                        <mi:MaterialIcon Kind="Lock"
                                         Width="24" Height="24"
                                         IsVisible="{Binding !IsUnlocked}"
                                         Foreground="#666666"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center" />
                      </Panel>
                    </Border>

                    <!-- Name -->
                    <TextBlock Grid.Row="0" Grid.Column="1"
                               Text="{Binding DisplayName}"
                               FontSize="15" FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />

                    <!-- Beschreibung -->
                    <TextBlock Grid.Row="1" Grid.Column="1"
                               Text="{Binding DisplayDescription}"
                               FontSize="11"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               TextWrapping="Wrap" />

                    <!-- Unlock-Status: Freigeschaltet -->
                    <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                            Margin="0,8,0,0"
                            CornerRadius="8"
                            Padding="8,5"
                            HorizontalAlignment="Stretch"
                            IsVisible="{Binding IsUnlocked}">
                      <Border.Background>
                        <SolidColorBrush Color="#1B5E20" Opacity="0.3" />
                      </Border.Background>
                      <StackPanel Orientation="Horizontal" Spacing="6"
                                  HorizontalAlignment="Center">
                        <mi:MaterialIcon Kind="CheckCircle" Width="14" Height="14"
                                         Foreground="#4CAF50" />
                        <TextBlock Text="{Binding UnlockText}"
                                   FontSize="12" FontWeight="SemiBold"
                                   Foreground="#4CAF50" />
                      </StackPanel>
                    </Border>

                    <!-- Unlock-Status: Gesperrt -->
                    <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                            Margin="0,8,0,0"
                            CornerRadius="8"
                            Padding="8,5"
                            HorizontalAlignment="Stretch"
                            IsVisible="{Binding !IsUnlocked}">
                      <Border.Background>
                        <SolidColorBrush Color="{DynamicResource CardColor}" Opacity="0.5" />
                      </Border.Background>
                      <StackPanel Orientation="Horizontal" Spacing="6"
                                  HorizontalAlignment="Center">
                        <mi:MaterialIcon Kind="Lock" Width="14" Height="14"
                                         Foreground="#888888" />
                        <TextBlock Text="{Binding UnlockText}"
                                   FontSize="12" FontWeight="SemiBold"
                                   Foreground="{DynamicResource TextSecondaryBrush}" />
                      </StackPanel>
                    </Border>

                  </Grid>
                </Border>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>

          <!-- ═══════════════════════════════════════════════
               WELT-MECHANIKEN
               ═══════════════════════════════════════════════ -->
          <Border CornerRadius="8"
                  Padding="14,10"
                  Margin="0,8,0,0"
                  BorderThickness="3,0,0,0"
                  BorderBrush="#2196F3">
            <Border.Background>
              <SolidColorBrush Color="#2196F3" Opacity="0.08" />
            </Border.Background>
            <TextBlock AutomationProperties.AutomationId="Shop_TxtMechanicsSection"
                       Text="{Binding SectionMechanicsText}"
                       FontSize="17" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}" />
          </Border>

          <ItemsControl AutomationProperties.AutomationId="Shop_MechanicList"
                        ItemsSource="{Binding MechanicItems}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal"
                           HorizontalAlignment="Center" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
              <DataTemplate x:DataType="models:PowerUpDisplayItem">
                <Border CornerRadius="12"
                        Padding="12"
                        Margin="6"
                        MinWidth="200" MaxWidth="280"
                        BoxShadow="0 2 8 0 #30000000"
                        Opacity="{Binding CardOpacity}">
                  <Border.Background>
                    <SolidColorBrush Color="{DynamicResource CardColor}" />
                  </Border.Background>
                  <Grid RowDefinitions="Auto,Auto,Auto" ColumnDefinitions="Auto,*">

                    <!-- Icon-Badge -->
                    <Border Grid.Row="0" Grid.Column="0"
                            Grid.RowSpan="2"
                            Width="44" Height="44"
                            CornerRadius="10"
                            Margin="0,0,10,0"
                            VerticalAlignment="Center">
                      <Border.Background>
                        <SolidColorBrush Color="{Binding IconColor}" Opacity="0.2" />
                      </Border.Background>
                      <Panel>
                        <mi:MaterialIcon Kind="{Binding IconKind}"
                                         Width="24" Height="24"
                                         IsVisible="{Binding IsUnlocked}"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center">
                          <mi:MaterialIcon.Foreground>
                            <SolidColorBrush Color="{Binding IconColor}" />
                          </mi:MaterialIcon.Foreground>
                        </mi:MaterialIcon>
                        <mi:MaterialIcon Kind="Lock"
                                         Width="24" Height="24"
                                         IsVisible="{Binding !IsUnlocked}"
                                         Foreground="#666666"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center" />
                      </Panel>
                    </Border>

                    <!-- Name -->
                    <TextBlock Grid.Row="0" Grid.Column="1"
                               Text="{Binding DisplayName}"
                               FontSize="15" FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimaryBrush}" />

                    <!-- Beschreibung -->
                    <TextBlock Grid.Row="1" Grid.Column="1"
                               Text="{Binding DisplayDescription}"
                               FontSize="11"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               TextWrapping="Wrap" />

                    <!-- Unlock-Status: Freigeschaltet -->
                    <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                            Margin="0,8,0,0"
                            CornerRadius="8"
                            Padding="8,5"
                            HorizontalAlignment="Stretch"
                            IsVisible="{Binding IsUnlocked}">
                      <Border.Background>
                        <SolidColorBrush Color="#1B5E20" Opacity="0.3" />
                      </Border.Background>
                      <StackPanel Orientation="Horizontal" Spacing="6"
                                  HorizontalAlignment="Center">
                        <mi:MaterialIcon Kind="CheckCircle" Width="14" Height="14"
                                         Foreground="#4CAF50" />
                        <TextBlock Text="{Binding UnlockText}"
                                   FontSize="12" FontWeight="SemiBold"
                                   Foreground="#4CAF50" />
                      </StackPanel>
                    </Border>

                    <!-- Unlock-Status: Gesperrt -->
                    <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                            Margin="0,8,0,0"
                            CornerRadius="8"
                            Padding="8,5"
                            HorizontalAlignment="Stretch"
                            IsVisible="{Binding !IsUnlocked}">
                      <Border.Background>
                        <SolidColorBrush Color="{DynamicResource CardColor}" Opacity="0.5" />
                      </Border.Background>
                      <StackPanel Orientation="Horizontal" Spacing="6"
                                  HorizontalAlignment="Center">
                        <mi:MaterialIcon Kind="Lock" Width="14" Height="14"
                                         Foreground="#888888" />
                        <TextBlock Text="{Binding UnlockText}"
                                   FontSize="12" FontWeight="SemiBold"
                                   Foreground="{DynamicResource TextSecondaryBrush}" />
                      </StackPanel>
                    </Border>

                  </Grid>
                </Border>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>

          <!-- ═══════════════════════════════════════════════
               SPIELER-SKINS
               ═══════════════════════════════════════════════ -->
          <Border CornerRadius="8"
                  Padding="14,10"
                  Margin="0,8,0,0"
                  BorderThickness="3,0,0,0"
                  BorderBrush="#00BCD4">
            <Border.Background>
              <SolidColorBrush Color="#00BCD4" Opacity="0.08" />
            </Border.Background>
            <TextBlock AutomationProperties.AutomationId="Shop_TxtSkinsSection"
                       Text="{Binding SectionSkinsText}"
                       FontSize="17" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}" />
          </Border>

          <ItemsControl AutomationProperties.AutomationId="Shop_SkinList"
                        ItemsSource="{Binding SkinItems}"
                        ItemTemplate="{StaticResource SkinItemTemplate}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal"
                           HorizontalAlignment="Center" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
          </ItemsControl>

          <!-- ═══════════════════════════════════════════════
               BOMBEN-SKINS
               ═══════════════════════════════════════════════ -->
          <Border CornerRadius="8"
                  Padding="14,10"
                  Margin="0,8,0,0"
                  BorderThickness="3,0,0,0"
                  BorderBrush="#FF6D00">
            <Border.Background>
              <SolidColorBrush Color="#FF6D00" Opacity="0.08" />
            </Border.Background>
            <TextBlock AutomationProperties.AutomationId="Shop_TxtBombSkinsSection"
                       Text="{Binding SectionBombSkinsText}"
                       FontSize="17" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}" />
          </Border>

          <ItemsControl AutomationProperties.AutomationId="Shop_BombSkinList"
                        ItemsSource="{Binding BombSkinItems}"
                        ItemTemplate="{StaticResource SkinItemTemplate}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal"
                           HorizontalAlignment="Center" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
          </ItemsControl>

          <!-- ═══════════════════════════════════════════════
               EXPLOSIONS-SKINS
               ═══════════════════════════════════════════════ -->
          <Border CornerRadius="8"
                  Padding="14,10"
                  Margin="0,8,0,0"
                  BorderThickness="3,0,0,0"
                  BorderBrush="#F44336">
            <Border.Background>
              <SolidColorBrush Color="#F44336" Opacity="0.08" />
            </Border.Background>
            <TextBlock AutomationProperties.AutomationId="Shop_TxtExplosionSkinsSection"
                       Text="{Binding SectionExplosionSkinsText}"
                       FontSize="17" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}" />
          </Border>

          <ItemsControl AutomationProperties.AutomationId="Shop_ExplosionSkinList"
                        ItemsSource="{Binding ExplosionSkinItems}"
                        ItemTemplate="{StaticResource SkinItemTemplate}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal"
                           HorizontalAlignment="Center" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
          </ItemsControl>

          <!-- ═══════════════════════════════════════════════
               TRAILS
               ═══════════════════════════════════════════════ -->
          <Border CornerRadius="8"
                  Padding="14,10"
                  Margin="0,8,0,0"
                  BorderThickness="3,0,0,0"
                  BorderBrush="#4CAF50">
            <Border.Background>
              <SolidColorBrush Color="#4CAF50" Opacity="0.08" />
            </Border.Background>
            <TextBlock AutomationProperties.AutomationId="Shop_TxtTrailsSection"
                       Text="{Binding SectionTrailsText}"
                       FontSize="17" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}" />
          </Border>

          <ItemsControl AutomationProperties.AutomationId="Shop_TrailList"
                        ItemsSource="{Binding TrailItems}"
                        ItemTemplate="{StaticResource SkinItemTemplate}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal"
                           HorizontalAlignment="Center" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
          </ItemsControl>

          <!-- ═══════════════════════════════════════════════
               SIEGES-ANIMATIONEN
               ═══════════════════════════════════════════════ -->
          <Border CornerRadius="8"
                  Padding="14,10"
                  Margin="0,8,0,0"
                  BorderThickness="3,0,0,0"
                  BorderBrush="#9C27B0">
            <Border.Background>
              <SolidColorBrush Color="#9C27B0" Opacity="0.08" />
            </Border.Background>
            <TextBlock AutomationProperties.AutomationId="Shop_TxtVictoriesSection"
                       Text="{Binding SectionVictoriesText}"
                       FontSize="17" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}" />
          </Border>

          <ItemsControl AutomationProperties.AutomationId="Shop_VictoryList"
                        ItemsSource="{Binding VictoryItems}"
                        ItemTemplate="{StaticResource SkinItemTemplate}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal"
                           HorizontalAlignment="Center" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
          </ItemsControl>

          <!-- ═══════════════════════════════════════════════
               PROFILRAHMEN
               ═══════════════════════════════════════════════ -->
          <Border CornerRadius="8"
                  Padding="14,10"
                  Margin="0,8,0,0"
                  BorderThickness="3,0,0,0"
                  BorderBrush="#3B82F6">
            <Border.Background>
              <SolidColorBrush Color="#3B82F6" Opacity="0.08" />
            </Border.Background>
            <TextBlock AutomationProperties.AutomationId="Shop_TxtFramesSection"
                       Text="{Binding SectionFramesText}"
                       FontSize="17" FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}" />
          </Border>

          <ItemsControl AutomationProperties.AutomationId="Shop_FrameList"
                        ItemsSource="{Binding FrameItems}"
                        ItemTemplate="{StaticResource SkinItemTemplate}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel Orientation="Horizontal"
                           HorizontalAlignment="Center" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
          </ItemsControl>

        </StackPanel>
      </ScrollViewer>

    </Grid>
  </Panel>

</UserControl>
